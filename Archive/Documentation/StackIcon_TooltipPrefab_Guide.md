# StackIcon Tooltip Prefab Guide

## Overview
The `StackIcon` component supports hover tooltips to display detailed information about stack types (Momentum, Agitate, Tolerance, Potential, etc.).

## Tooltip Options

### Option 1: Use CardHoverTooltip Component (Recommended)
The easiest way is to add a `CardHoverTooltip` component directly to the StackIcon GameObject. The `StackIcon` will automatically detect and use it.

**Setup:**
1. Select your StackIcon GameObject (e.g., "Momentum", "Agitate", etc.)
2. Add Component → `CardHoverTooltip`
3. Configure the styling in the Inspector (see `CardHoverTooltip_StylingGuide.md` for details)
4. The tooltip will automatically show the stack title and description on hover

**No prefab needed** - the `CardHoverTooltip` component handles everything.

---

### Option 2: Custom Tooltip Prefab
If you want a custom tooltip prefab, you can create one and assign it to the `tooltipPrefab` field in `StackIcon`.

**Prefab Structure:**
```
StackTooltipPrefab (GameObject)
├── RectTransform (required)
├── Image (background - optional)
│   └── Color: Dark background (e.g., RGBA: 0.1, 0.1, 0.15, 0.95)
├── Outline (border - optional)
│   └── Effect Color: Gold/amber (e.g., RGBA: 0.8, 0.6, 0.2, 1.0)
│   └── Effect Distance: (2, -2)
└── Text (TextMeshProUGUI - required)
    ├── Text: Will be set dynamically
    ├── Font Size: 14-16
    ├── Color: Off-white (e.g., RGBA: 0.95, 0.95, 0.95, 1.0)
    ├── Text Wrapping Mode: Normal
    ├── Alignment: Top Left
    └── Outline (optional)
        ├── Outline Width: 2
        └── Outline Color: Black (RGBA: 0, 0, 0, 0.8)
```

**Required Components:**
- `RectTransform` (automatically added)
- `TextMeshProUGUI` (for displaying the tooltip text)

**Optional Components:**
- `Image` (for background)
- `Outline` (for border)

**Text Content:**
The tooltip text is automatically generated by `StackIcon` and includes:
- Title: `"{StackType} ({currentCount})"` (e.g., "Momentum (5)")
- Description: Detailed description of what the stack does

**Example Tooltip Text Format:**
```
Momentum (5)

Momentum Charges:
If you have momentum threshold higher or equal to the required effect when playing the card, it will play that effect.

Momentum Spenders:
If you spend Momentum, the highest threshold will always be triggered.
```

---

### Option 3: Runtime Tooltip (Default)
If neither `CardHoverTooltip` nor `tooltipPrefab` is provided, `StackIcon` will create a simple tooltip at runtime with default styling.

**Default Runtime Tooltip:**
- Dark background (RGBA: 0.1, 0.1, 0.15, 0.95)
- Gold border (RGBA: 0.8, 0.6, 0.2, 1.0)
- White text with black outline
- Size: 300x150 pixels
- Position: Follows mouse cursor

---

## StackIcon Inspector Fields

### Tooltip Settings
- **`enableTooltips`** (bool): Enable/disable hover tooltips for this stack icon
- **`tooltipPrefab`** (GameObject): Optional custom tooltip prefab to use

### Visual Settings
- **`backgroundImage`** (Image): Background image for the stack icon
- **`iconImage`** (Image): Icon image showing the stack type
- **`countText`** (TextMeshProUGUI): Text displaying the stack count (automatically colored based on proximity to cap)

---

## Recommended Setup

**For most use cases, use Option 1 (CardHoverTooltip component):**

1. Select your StackIcon GameObject
2. Add Component → `CardHoverTooltip`
3. Configure styling in Inspector:
   - Background Color: Dark blue-gray (0.1, 0.1, 0.15, 0.95)
   - Border Color: Gold (0.8, 0.6, 0.2, 1.0)
   - Border Width: 2
   - Text Color: Off-white (0.95, 0.95, 0.95, 1.0)
   - Font Size: 15
   - Text Outline: Enabled (width: 2, color: black)
4. Done! Tooltips will work automatically.

---

## Stack Descriptions

The following descriptions are automatically generated for each stack type:

### Momentum
- **Title**: "Momentum ({count})"
- **Description**: Explains momentum charges and momentum spenders

### Agitate
- **Title**: "Agitate ({count})"
- **Description**: "+2% more damage per stack (multiplicative). +2% attack speed, cast speed, and move speed per stack. Maximum stacks: 10"

### Tolerance
- **Title**: "Tolerance ({count})"
- **Description**: "-3% damage taken per stack (multiplicative reduction). Maximum stacks: 10"

### Potential
- **Title**: "Potential ({count})"
- **Description**: "+2% critical strike chance per stack. +2% critical strike multiplier per stack (multiplicative). Maximum stacks: 10"

---

## Troubleshooting

**Tooltip not showing:**
1. Check that `enableTooltips` is true
2. Ensure the GameObject has a `Graphic` component (Image, etc.) to receive pointer events
3. Check that the Canvas has a `GraphicRaycaster` component
4. Verify the EventSystem is present in the scene

**Tooltip styling not working:**
- If using `CardHoverTooltip`, check the styling fields in the Inspector
- If using a custom prefab, ensure the prefab structure matches the requirements above

**Tooltip position issues:**
- The tooltip follows the mouse cursor automatically
- If using a custom prefab, ensure it's parented to a Canvas

